main: out_dir main.o add.o sub.o
	g++ -o main out/main.o out/add.o out/sub.o -fprofile-arcs -ftest-coverage -lgcov
main.o : main.cpp
	g++ -c main.cpp -o out/main.o -fprofile-arcs -ftest-coverage
add.o : add/add.cpp add/add.h
	g++ -c add/add.cpp -o out/add.o -fprofile-arcs -ftest-coverage
sub.o: sub/sub.cpp sub/sub.h
	g++ -c sub/sub.cpp -o out/sub.o -fprofile-arcs -ftest-coverage

out_dir:
	mkdir -p out

clean:
	-rm -rf out
	rm -rf main
